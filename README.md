# FdF

## 1️⃣ 프로젝트 소개

FdF는 42서울 커리큘럼의 그래픽스 프로젝트로, Wireframe 방식으로 3D 지형 데이터를 2D 화면에 렌더링하는 프로그램을 구현하는 과제입니다. minilibx라는 경량 그래픽스 라이브러리를 사용하여 OpenGL 등 고수준 프레임워크 없이, 저수준 그래픽스 API 호출만으로 화면에 선을 그려 지형을 표현합니다. Bonus 구현까지 완료하여 단순 렌더링을 넘어 다양한 상호작용 기능과 시각적 효과를 추가했습니다.

---

## 2️⃣ 과제 목표
	•	isometric projection (등각 투영)을 이해하고, 3차원 좌표 데이터를 2차원 화면에 올바르게 변환하기.
	•	Bresenham 알고리즘을 사용해 픽셀 단위로 직선을 그리며, 고정 소수점 기반 계산으로 효율적 렌더링을 구현.
	•	이벤트 처리(keyboard, mouse)를 통해 사용자가 직접 시점을 이동/확대/축소할 수 있는 인터랙티브 뷰어를 제작.
	•	보너스에서는 색상, 회전, 마우스 조작 등 기능을 확장하여 실제 그래픽스 뷰어에 가까운 완성도를 달성하는 것.

---

## 3️⃣ 구현 사항
### * Mandatory
  - map 파일을 파싱하여 고도 데이터(z값)를 2D 배열로 저장.
  - 등각 투영 변환을 적용하여 (x, y, z) → (x’, y’) 좌표 계산.
  - Bresenham 알고리즘으로 선형 보간(line interpolation) 기반의 선분 그리기 구현.
  - 창 크기 내에서 자동으로 지도 크기를 조정(scale & offset).
### * Bonus
  - 색상 그라데이션: 고도 값에 따라 다른 색상을 부여하여 지형의 높낮이가 직관적으로 보이도록 구현.
  - 마우스 인터랙션: 드래그로 시점 이동, 휠로 확대/축소 기능 추가.
  - 키보드 컨트롤: 화살표 키로 카메라 이동, +/- 키로 카메라 이동 속도, C 키로 색상 그라데이션 모드 변환 등 다양한 단축키 지원.
  - 다양한 투영 방식: 등각 투영 외에도 1인칭 시점 투영으로 전환할 수 있도록 구현.
  - 성능 최적화: 큰 맵에서도 빠른 렌더링을 위해 double buffer 방식과 draw 최소화를 적용.

---

## 5️⃣ 배운 점
* 수학적/기하학적 이해 심화
	- 선형대수(행렬 변환, 벡터 연산)를 직접 코드로 구현, 이론이 실제 그래픽스 프로그래밍에 어떻게 적용되는지 체득
	- 특히 등각 투영 공식과 회전 행렬을 구현하면서, 좌표계를 변환하는 과정을 명확히 이해
* 그래픽스 라이브러리 활용 경험
	- minilibX를 통해 저수준 픽셀 렌더링 방식을 다루면서, 프레임 버퍼를 직접 조작하는 그래픽스 프로그래밍을 경험
	- 단순히 도형을 그리는 것이 아니라, 좌표 연산 → 투영 → 픽셀 렌더링까지 이어지는 렌더링 파이프라인의 전 과정을 직접 구현
* 좌표계 변환과 회전의 한계(Gimbal Lock 경험)
	- 3D 회전 구현 중 특정 축에서 회전이 꼬여서 반대로 동작하는 Gimbal Lock 현상 경험
	- 이를 보완하기 위해 현재 각도에 따라 회전 방식을 다르게 적용, 추후 쿼터니언 기반 회전 방식 학습의 필요성을 느낌
* 알고리즘/성능 최적화
	- Bresenham 알고리즘을 이용한 선분 렌더링 최적화 과정을 거치며, 픽셀 단위 연산에서 불필요한 부동소수점 연산을 줄이는 것의 중요성 경험
	- 단순 구현과 효율적인 구현의 차이를 체감, 이후 프로젝트에서도 성능과 자원 효율성을 고려하는 습관 체득
* 시각화와 사용자 경험(UX)
	- 색상 보간과 마우스 인터랙션 추가를 통해, 기술적 기능을 어떻게 사용자 친화적으로 발전시킬 수 있는지 고찰
* 문제 해결력과 디버깅 능력
	- 좌표계 변환 오류, 무한 루프, 잘못된 색상 계산 등 다양한 버그를 마주하며, 수학적 로직과 코드 구현을 대조하며 디버깅하는 능력을 강화
	- 특히 회전과 확대/축소 기능에서 발생하는 비정상 동작을 직접 추적·보완하면서, 문제를 구조적으로 분석하고 해결하는 역량 강화

---

## 6️⃣ 사용 방법
bash
```
# 1. 프로젝트 빌드
make        # 기본 빌드
make bonus  # 보너스 기능 포함 빌드

# 2. 실행
./fdf maps/42.fdf        # 지정한 map 파일을 wireframe으로 렌더링
./fdf maps/pyramide.fdf

# 3. 주요 조작
- 마우스 드래그 : 시점 이동
- 마우스 휠    : 줌 인/아웃
- 화살표 키    : 이미지 이동
- wasd 키    : 이미지 회전
- +/- 키     : 카메라 이동속도 증가/감소
- [/] 키     : 카메라 회전속도 증가/감소
- T 키       : 투영 방식 전환 (Isometric <-> 1-point Perpective)
- C 키       : 색상 그라데이션 모드 변환 (픽셀 컬러 <-> 높이 표현)
```

---

## 7️⃣ 사진 예시
<img width="1274" height="1018" alt="스크린샷 2025-08-18 오후 10 35 55" src="https://github.com/user-attachments/assets/cd06aeaf-b169-49fe-8508-e46cda891012" />

<img width="1269" height="1015" alt="스크린샷 2025-08-18 오후 10 36 10" src="https://github.com/user-attachments/assets/713b1833-628e-4398-a628-0754f87c8a90" />

<img width="1271" height="1020" alt="스크린샷 2025-08-18 오후 10 36 51" src="https://github.com/user-attachments/assets/2a9fcbf5-7f51-4969-a4eb-2bc4d46a1efb" />

<img width="1271" height="1021" alt="스크린샷 2025-08-18 오후 10 37 15" src="https://github.com/user-attachments/assets/80ee6f76-62ca-475a-b5ff-20dc1399d8fa" />

---

## 8️⃣ 동작 영상
### pyramide.fdf
https://github.com/user-attachments/assets/83e4dc4e-aa18-4a2e-baa8-f87b53f6d466

### julia.fdf
https://github.com/user-attachments/assets/7a98ecae-f931-48c0-8e42-9b17b0bc451d

---

## 9️⃣ 기술 스택
	•	언어: C
	•	운영체제/환경: Unix/Linux
	•	빌드 도구: GNU Make
	•	버전관리 도구: Git
	•	Coding Conventions: Norminette
	•	그래픽스 라이브러리: minilibx (X11 기반)
	•	알고리즘: Bresenham’s line algorithm, 선형 보간(gradient), 행렬 변환
	•	추가 구현: 이벤트 루프, double buffering, 색상 보간 로직
